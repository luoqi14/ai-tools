# 颜色系统升级到 OKLCH

## 什么是 OKLCH？

OKLCH（OK LCH）是一种现代的颜色空间格式，它提供了比传统 HSL/RGB 更好的感知一致性和更广的色域覆盖。

### OKLCH 格式

```css
oklch(lightness chroma hue / alpha)
```

- **lightness**: 0-1（亮度，0 为黑色，1 为白色）
- **chroma**: 0+（色度/饱和度，通常 0-0.4）
- **hue**: 0-360（色相角度）
- **alpha**: 0-1（透明度，可选）

## 为什么选择 OKLCH？

### 1. 感知一致性

- 在 OKLCH 中，相同的亮度值在视觉上具有相同的明亮程度
- HSL 中的 50% 亮度在不同色相下看起来明亮程度不同

### 2. 更广的色域

- 支持更广泛的颜色范围
- 能够表示在 HSL/RGB 中无法准确表示的颜色

### 3. 更好的色彩操作

- 调整亮度时不会改变色相的感知
- 更容易创建和谐的调色板

## 项目中的颜色定义

### 亮色主题

```css
:root {
  --background: oklch(1 0 0); /* 纯白背景 */
  --foreground: oklch(0.09 0.005 240); /* 深色文本 */
  --primary: oklch(0.1 0.007 240); /* 主色调 */
  --secondary: oklch(0.96 0.006 240); /* 次要色调 */
  --muted: oklch(0.96 0.006 240); /* 静音色调 */
  --destructive: oklch(0.63 0.22 25); /* 警告/错误色 */
  --border: oklch(0.9 0.005 240); /* 边框色 */
}
```

### 暗色主题

```css
[data-theme="dark"] {
  --background: oklch(0.09 0.005 240); /* 深色背景 */
  --foreground: oklch(0.98 0 0); /* 浅色文本 */
  --primary: oklch(0.98 0 0); /* 主色调 */
  --secondary: oklch(0.16 0.004 240); /* 次要色调 */
  --muted: oklch(0.16 0.004 240); /* 静音色调 */
}
```

### 图表颜色

```css
--chart-1: oklch(0.55 0.15 180); /* 青蓝色 */
--chart-2: oklch(0.7 0.17 35); /* 橙色 */
--chart-3: oklch(0.4 0.08 220); /* 深蓝色 */
--chart-4: oklch(0.8 0.15 85); /* 黄色 */
--chart-5: oklch(0.75 0.18 45); /* 橙红色 */
```

## 自定义颜色使用

### 在 CSS 中

```css
.custom-element {
  background: oklch(0.8 0.15 120); /* 浅绿色 */
  color: oklch(0.2 0.1 120); /* 深绿色文本 */
  border: 1px solid oklch(0.6 0.12 120 / 0.5); /* 半透明边框 */
}
```

### 在 Tailwind 中

可以使用任意值语法：

```jsx
<div className="bg-[oklch(0.8_0.15_120)]">
  <!-- 内容 -->
</div>
```

## 浏览器支持

OKLCH 在现代浏览器中得到良好支持：

- Chrome 111+
- Firefox 113+
- Safari 15.4+

对于不支持的浏览器，建议使用 CSS 回退或 PostCSS 插件进行转换。

## 工具推荐

- **OKLCH Color Picker**: https://oklch.com/
- **Culori**: JavaScript 颜色操作库，支持 OKLCH
- **Leonardo**: Adobe 的颜色工具，支持 OKLCH

## 迁移指南

### 从 HSL 迁移

1. 使用在线转换工具将现有 HSL 颜色转换为 OKLCH
2. 调整 chroma 值以获得期望的饱和度
3. 验证在不同主题下的视觉效果

### 创建调色板

1. 选择基础色相（hue）
2. 定义亮度范围（lightness）
3. 调整色度（chroma）以控制饱和度
4. 保持色相一致，通过调整亮度和色度创建变体
